<!DOCTYPE html>
<html ng-app="calenderApp">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>订单来了——房态</title>
    <link rel ="Shortcut Icon" href="/static/image/favicon.ico">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/static/css/main.min.css">
    <script src="/static/js/app/dist/common.js"></script>
    <script src="/static/js/app/dist/accommodation/calender.js"></script>
</head>
<body ng-controller="calenderCtrl">
<div class="msgModal modal fade" role="dialog" id="ingWarningModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stext">选择直接入住，系统将自动清除今天以前的房态格子。</div>
            <div class="btns">
                <div class="sbtn cancel">取消</div>
                <div class="sbtn confirm" ng-click="processBeforeAdd('ing');">清除</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="msgModal modal fade" role="dialog" id="finishWarningModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stext">选择补录，系统将自动清除今天及以后的房态格子。</div>
            <div class="btns">
                <div class="sbtn cancel btn-cancel">取消</div>
                <div class="sbtn confirm" ng-click="processBeforeAdd('finish');">清除</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="msgModal modal fade" role="dialog" id="bookWarningModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stext">选择预定，系统将自动清除今天以前的房态格子。</div>
            <div class="btns">
                <div class="sbtn cancel btn-cancel">取消</div>
                <div class="sbtn confirm" ng-click="processBeforeAdd('book');">清除</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="msgModal modal fade" role="dialog" id="shortModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stext">部分房间库存不足，系统将自动清除不可选的房间。</div>
            <div class="btns">
                <div class="sbtn cancel btn-cancel">取消</div>
                <div class="sbtn confirm">清除</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="alertModal modal fade" role="dialog" id="paySuccessModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="eluyun_success_outer tips-img">
                <div class="eluyun_success"></div>
            </div>
            <div class="stitle">收款成功</div>
            <div class="money">实收金额：￥19999</div>
            <div class="tips">剩余5S自动跳转到订单详情</div>
            <div class="btns">
                <div class="sbtn">打印凭条</div>
                <div class="sbtn">查看订单</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="alertModal modal fade" role="dialog" id="payFailModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="eluyun_fail_outer tips-img">
                <div class="eluyun_fail"></div>
            </div>
            <div class="stitle">收款失败</div>
            <div class="reason">客户支付宝余额不足</div>
            <div class="tips">剩余5S自动返回</div>
            <div class="btns">
                <div class="sbtn">返回订单</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="alertModal modal fade" role="dialog" id="newFailModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="eluyun_fail_outer tips-img">
                <div class="eluyun_fail"></div>
            </div>
            <div class="stitle">预订失败</div>
            <div class="reason">网速太慢</div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="orderDetailModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>订单详情</span>
                    <div class="status book"><div class="triangle"></div>已预订</div>
                    <div class="btns">
                        <div class="abtn">编辑订单</div>
                        <div class="abtn">取消订单</div>
                        <div class="abtn">打印品条</div>
                    </div>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td>胡晚期</td>
                        <td>手机号</td>
                        <td>13111111111</td>
                    </tr>
                    <tr>
                        <td>身份证</td>
                        <td>440183199209080056</td>
                        <td>渠道</td>
                        <td>散客</td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="consume-info">
                <div class="sub-title">消费信息</div>
                <div class="subtype room">
                    <div class="sub-title">房间信息</div>
                    <table>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype food">
                    <div class="sub-title">餐饮信息</div>
                    <table>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype fun">
                    <div class="sub-title">娱乐信息</div>
                    <table>
                        <tr>
                            <td>皮划艇</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="accounts">
                    <div class="sub-title">收银信息</div>
                    <div class="infos">
                        <div class="item">
                            <span class="slabel">订单总价:</span>
                            <span class="svalue">￥99999</span>
                        </div>
                        <div class="item">
                            &nbsp;&nbsp;&nbsp;
                            <span class="slabel">优惠:</span>
                            <span class="svalue">￥1919</span>
                        </div>
                        <div class="item diff1">
                            <span class="slabel">客户需补:</span>
                            <span class="svalue">￥9999</span>
                        </div>
                        <!--<div class="item diff2">-->
                            <!--<span class="slabel">客户需退:</span>-->
                            <!--<span class="svalue">￥9999</span>-->
                        <!--</div>-->
                        <div class="item deposit">
                            <span class="slabel">需退押金:</span>
                            <span class="svalue">￥200</span>
                        </div>
                        <div class="item">
                            <span class="slabel">备注:</span>
                            <span class="svalue">
                                没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话
                                没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话
                                没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话
                                没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话
                                没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话没有备注的话
                            </span>
                        </div>
                        <div class="item orderid">
                            <span class="slabel">订单号:</span>
                            <span class="svalue">20160756456456456456456456</span>
                        </div>
                        <div class="item staff">
                            <span class="slabel">办理预订员工:</span>
                            <span class="svalue">小明</span>
                        </div>
                    </div>
                    <div class="btns">
                        <div class="sbtn">办理入住</div>
                        <div class="sbtn">收银</div>
                    </div>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="orderCancelModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>取消订单</span>
                    <div class="status book"><div class="triangle"></div>已预订</div>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td>吴丹青</td>
                        <td>手机号</td>
                        <td>18768114210</td>
                    </tr>
                    <tr>
                        <td>身份证</td>
                        <td>440183199209080056</td>
                        <td>渠道</td>
                        <td>散客</td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="consume-info">
                <div class="sub-title consume-switch">消费信息
                    <div class="eluyun_arrow-down-blue_outer spriteImg">
                        <div class="eluyun_arrow-down-blue"></div>
                    </div>
                </div>
                <div class="subtype room">
                    <div class="sub-title">房间信息</div>
                    <table>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype food">
                    <div class="sub-title">餐饮信息</div>
                    <table>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype fun">
                    <div class="sub-title">娱乐信息</div>
                    <table>
                        <tr>
                            <td>皮划艇</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
            </div>
            <div class="infos">
                <div class="item">
                    <div class="sbold">商家需退:</div>
                    <div class="num">¥100000</div>
                    <div class="desc">
                        <div class="eluyun_tips_outer spriteImg">
                            <div class="eluyun_tips"></div>
                        </div>
                        <div class="desc-box">
                            <div class="subt">订单总结：</div>
                            <div class="sitem">
                                <div class="sl">订单总价</div>
                                <div class="sval">¥10000</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="sitem">
                                <div class="sl">优惠：</div>
                                <div class="sval">- ¥100</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="sitem">
                                <div class="sl">客户应付：</div>
                                <div class="sval">¥10000</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="hr3"></div>
                            <div class="subt">订单收支明细</div>
                            <div class="sitem">
                                <div class="sl">客户已付（现金）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="sitem">
                                <div class="sl">客户已付（支付宝）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="hr3"></div>
                            <div class="subt">押金收支明细</div>
                            <div class="sitem">
                                <div class="sl">押金（现金）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="hr3"></div>
                            <div class="sitem">
                                <div class="sl1">商家需退：</div>
                                <div class="sval2">¥100000</div>
                            </div>
                            <div class="sitem">
                                <div class="sl1">需退押金：</div>
                                <div class="sval2">¥100</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="sbold">需退押金:</div>
                    <div class="num">¥150</div>
                </div>
                <div class="item item_small refund">
                    <div class="slabel">订单收款</div>
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加订单退款
                    </div>
                </div>
                <div class="item item_big">
                    <input type="text">
                    <div class="select1">
                        <span></span>
                        <div class="select1_options">
                            <div class="item">散客</div>
                            <div class="item">旅行社</div>
                        </div>
                    </div>
                </div>
                <div class="item item_small">
                    <div class="slabel">押金收款</div>
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加押金收款
                    </div>
                </div>
                <div class="item item_big">
                    <input type="text">
                    <div class="select1">
                        <span></span>
                        <div class="select1_options">
                            <div class="item">散客</div>
                            <div class="item">旅行社</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="remarks">
                <div class="slabel">备注:</div>
                <div class="stext">
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                </div>
            </div>
            <div class="sbottom">
                <div class="sbtn">确认取消</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="newOrderModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>{{newOrder.title}}</span>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td><input placeholder="姓名" type="text" ng-model="newOrder.guestInfo.name"
                                   class="long"><div class="tips warning" ng-if="!newOrder.guestInfo.name">
                            必填字段</div></td>
                        <td>手机号</td>
                        <td><input placeholder="手机号" type="text" ng-model="newOrder.guestInfo.phone"
                                   class="short"><div class="tips warning" ng-if="!newOrder.checkPhone();">
                            请填写正确的手机号码</div></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="select1">
                                <span>{{newOrder.guestInfo.selectedId}}</span>
                                <div class="select1_options">
                                    <div class="item"
                                         ng-click="newOrder.changeIds(id.label);$event.stopPropagation();"
                                         ng-repeat="id in idList">{{id.label}}</div>
                                </div>
                            </div>
                        </td>
                        <td><input placeholder="{{newOrder.guestInfo.selectedId}}" type="text" class="long"
                                   ng-model="newOrder.guestInfo.idVal"><div class="tips warning" ng-if="false">身份证格式错误</div></td>
                        <td>渠道</td>
                        <td>
                            <div class="select1">
                                <span>{{newOrder.selectedChannel.name}}</span>
                                <div class="select1_options">
                                    <div class="item" ng-repeat="c in channels"
                                         ng-click="newOrder.changeChannel(c.id, c.name);$event.stopPropagation();">{{c.name}}</div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <div class="hr2"></div>
            </div>
            <div class="subtype room">
                <div class="sub-title">房间信息</div>
                <table>
                    <tr ng-repeat="r in newOrder.roomList">
                        <td><span>{{r.sn}}</span>&nbsp;({{r.name}})</td>
                        <td>
                            <span class="light">入住</span>
                            &nbsp;<input type="text" class="datePicker" ng-model="r.sstartDate" readonly="true">
                            <div class="date-table start">
                                <div class="month-selector">
                                    <div class="eluyun_arrow-left-blue_outer spriteImg previous" ng-click="lastMonth();$event.stopPropagation();">
                                        <div class="eluyun_arrow-left-blue"></div>
                                    </div>
                                    {{startDate.getFullYear()}}年{{startDate.getMonth()+1}}月
                                    <div class="eluyun_arrow-right-blue_outer spriteImg next" ng-click="nextMonth();$event.stopPropagation();">
                                        <div class="eluyun_arrow-right-blue"></div>
                                    </div>
                                </div>
                                <div class="week-header">
                                    <div class="item">一</div>
                                    <div class="item">二</div>
                                    <div class="item">三</div>
                                    <div class="item">四</div>
                                    <div class="item">五</div>
                                    <div class="item">六</div>
                                    <div class="item">日</div>
                                </div>
                                <div class="date-row" ng-repeat="row in calenderDays">
                                    <div class="item {{day.sclass}}" ng-repeat="day in row" ng-click="selectDate(day.date);$event.stopPropagation();">
                                        {{day.text || day.date.getDate()}}
                                    </div>
                                </div>
                            </div>
                            &nbsp;~&nbsp;<input type="text" class="datePicker" ng-model="r.sendDate" readonly="true">
                            <div class="date-table end">
                                <div class="month-selector">
                                    <div class="eluyun_arrow-left-blue_outer spriteImg previous" ng-click="lastMonth();$event.stopPropagation();">
                                        <div class="eluyun_arrow-left-blue"></div>
                                    </div>
                                    {{startDate.getFullYear()}}年{{startDate.getMonth()+1}}月
                                    <div class="eluyun_arrow-right-blue_outer spriteImg next" ng-click="nextMonth();$event.stopPropagation();">
                                        <div class="eluyun_arrow-right-blue"></div>
                                    </div>
                                </div>
                                <div class="week-header">
                                    <div class="item">一</div>
                                    <div class="item">二</div>
                                    <div class="item">三</div>
                                    <div class="item">四</div>
                                    <div class="item">五</div>
                                    <div class="item">六</div>
                                    <div class="item">日</div>
                                </div>
                                <div class="date-row" ng-repeat="row in calenderDays">
                                    <div class="item {{day.sclass}}" ng-repeat="day in row" ng-click="selectDate(day.date);$event.stopPropagation();">
                                        {{day.text || day.date.getDate()}}
                                    </div>
                                </div>
                            </div>
                            &nbsp;
                            共{{r.days}}晚
                            <div class="tips warning left">↑房间被占用</div>
                            <div class="tips warning right">↑房间被占用</div>
                        </td>
                        <td>¥{{r.fee}}<div class="sdelete" ng-click="newOrder.deleteRoom($index);$event.stopPropagation();"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="subtype food" ng-if="foodList.length > 0">
                <div class="sub-title">
                    餐饮信息
                    <div class="sadd" ng-click="newOrder.addFood();">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加餐饮项目
                    </div>
                </div>
                <table>
                    <tr ng-repeat="food in newOrder.foodList">
                        <td>
                            <div class="select1">
                                <span>{{food.name}}</span>
                                <div class="select1_options">
                                    <div class="item" ng-repeat="f in foodList"
                                         ng-click="newOrder.changeFood(food, f)">{{f.name}}</div>
                                </div>
                            </div>
                        </td>
                        <td>时间&nbsp;
                            <input type="text" class="datePicker" ng-model="food.dateStr2" readonly="true">
                            <div class="date-table">
                                <div class="month-selector">
                                    <div class="eluyun_arrow-left-blue_outer spriteImg previous" ng-click="newOrder.itemLastMonth(food);$event.stopPropagation();">
                                        <div class="eluyun_arrow-left-blue"></div>
                                    </div>
                                    {{food.date.getFullYear()}}年{{food.date.getMonth()+1}}月
                                    <div class="eluyun_arrow-right-blue_outer spriteImg next" ng-click="newOrder.itemNextMonth(food);$event.stopPropagation();">
                                        <div class="eluyun_arrow-right-blue"></div>
                                    </div>
                                </div>
                                <div class="week-header">
                                    <div class="item">一</div>
                                    <div class="item">二</div>
                                    <div class="item">三</div>
                                    <div class="item">四</div>
                                    <div class="item">五</div>
                                    <div class="item">六</div>
                                    <div class="item">日</div>
                                </div>
                                <div class="date-row" ng-repeat="row in food.days">
                                    <div class="item {{day.sclass}}" ng-repeat="day in row" ng-click="newOrder.changeItemTime(food, day.date);">
                                        {{day.text || day.date.getDate()}}
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            数量&nbsp;
                            <div class="snumber">
                                <div class="minus" ng-click="newOrder.minusFood($index)">-</div>
                                <input type="text" ng-model="food.num">
                                <div class="plus" ng-click="newOrder.plusFood($index)">+</div>
                            </div>
                            <div class="tips">剩余库存{{food.inventory}}</div>
                        </td>
                        <td>¥{{food.num*food.price}}<div class="sdelete" ng-click="newOrder.deleteFood($index)"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2" ng-if="foodList.length > 0"></div>
            <div class="subtype fun" ng-if="funList.length > 0">
                <div class="sub-title">
                    娱乐信息
                    <div class="sadd" ng-click="newOrder.addFun();">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加娱乐项目
                    </div>
                </div>
                <table>
                    <tr ng-repeat="fun in newOrder.funList">
                        <td>
                            <div class="select1">
                                <span>{{fun.name}}</span>
                                <div class="select1_options">
                                    <div class="item" ng-repeat="f in funList"
                                         ng-click="newOrder.changeFun(fun, f)">{{f.name}}</div>
                                </div>
                            </div>
                        </td>
                        <td>时间&nbsp;
                            <input type="text" class="datePicker" ng-model="fun.dateStr2" readonly="true">
                            <div class="date-table">
                                <div class="month-selector">
                                    <div class="eluyun_arrow-left-blue_outer spriteImg previous" ng-click="newOrder.itemLastMonth(fun);$event.stopPropagation();">
                                        <div class="eluyun_arrow-left-blue"></div>
                                    </div>
                                    {{fun.date.getFullYear()}}年{{fun.date.getMonth()+1}}月
                                    <div class="eluyun_arrow-right-blue_outer spriteImg next" ng-click="newOrder.itemNextMonth(fun);$event.stopPropagation();">
                                        <div class="eluyun_arrow-right-blue"></div>
                                    </div>
                                </div>
                                <div class="week-header">
                                    <div class="item">一</div>
                                    <div class="item">二</div>
                                    <div class="item">三</div>
                                    <div class="item">四</div>
                                    <div class="item">五</div>
                                    <div class="item">六</div>
                                    <div class="item">日</div>
                                </div>
                                <div class="date-row" ng-repeat="row in fun.days">
                                    <div class="item {{day.sclass}}" ng-repeat="day in row" ng-click="newOrder.changeItemTime(fun, day.date);">
                                        {{day.text || day.date.getDate()}}
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            数量&nbsp;
                            <div class="snumber">
                                <div class="minus" ng-click="newOrder.minusFun($index)">-</div>
                                <input type="text" ng-model="fun.num">
                                <div class="plus" ng-click="newOrder.plusFun($index)">+</div>
                            </div>
                            <div class="tips">剩余库存{{fun.inventory}}</div>
                        </td>
                        <td>¥{{fun.num*fun.price}}<div class="sdelete" ng-click="newOrder.deleteFun($index)"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2" ng-if="funList.length > 0"></div>
            <div class="discount">
                <div class="slabel">优惠</div>
                <input placeholder="金额" type="text" ng-model="newOrder.discounts">
                <span class="tips">-¥</span>
            </div>
            <div class="remark">
                <div class="slabel">备注</div>
                <textarea placeholder="请填写备注信息" ng-model="newOrder.remarks"></textarea>
            </div>
            <div class="counter" ng-class="{warning: newOrder.remarks.length > 140}">{{newOrder.remarks.length}}/140</div>
            <div class="accounts">
                <div class="sgive">
                    <div class="slabel">客户需补</div>
                    <div class="snum">¥{{newOrder.totalPrice()}}</div>
                </div>
                <div class="sbtn confirm" ng-click="newOrder.submitOrder()">完成{{newOrder.title}}</div>
                <div class="sbtn cancel btn-cancel">取消</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal" role="dialog" id="orderEditModel">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>编辑订单</span>
                    <div class="status book"><div class="triangle"></div>已预订</div>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td><input placeholder="姓名" type="text" class="long"><div class="tips warning">必填字段</div></td>
                        <td>手机号</td>
                        <td><input placeholder="手机号" type="text" class="short"><div class="tips warning">必填字段</div></td>
                    </tr>
                    <tr>
                        <td>
                            <div class="select1">
                                <span></span>
                                <div class="select1_options">
                                    <div class="item">散客</div>
                                    <div class="item">旅行社</div>
                                </div>
                            </div>
                        </td>
                        <td><input placeholder="身份证" type="text" class="long"><div class="tips warning">身份证格式错误</div></td>
                        <td>渠道</td>
                        <td>
                            <div class="select1">
                                <span></span>
                                <div class="select1_options">
                                    <div class="item">散客</div>
                                    <div class="item">旅行社</div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
                <div class="hr2"></div>
            </div>
            <div class="subtype room">
                <div class="sub-title">房间信息</div>
                <table>
                    <tr>
                        <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                        <td>
                            <span class="light">入住</span>
                            &nbsp;
                            <div class="sstart">04-25</div>
                            &nbsp;~&nbsp;
                            <div class="send">04-25</div>
                            &nbsp;共7晚
                        </td>
                        <td>¥10000<div class="sdelete"></div></td>
                    </tr>
                    <tr>
                        <td><span>0102</span>&nbsp;(星空)<div class="sstatus finish">退</div></td>
                        <td>
                            <span class="light">入住</span>
                            &nbsp;<input type="text" class="datePicker">&nbsp;~&nbsp;<input type="text" class="datePicker">&nbsp;
                            共7晚
                            <div class="tips warning left">↑房间被占用</div>
                            <div class="tips warning right">↑房间被占用</div>
                        </td>
                        <td>¥10000<div class="sdelete"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="subtype food">
                <div class="sub-title">
                    餐饮信息
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加餐饮项目
                    </div>
                </div>
                <table>
                    <tr>
                        <td><div class="sname">烧烤烧烤烧烤烧烤烧烤烧烤烧烤烧烤</div></td>
                        <td><span class="light">时间</span>&nbsp;04-25</td>
                        <td>数量&nbsp;
                            <div class="snumber">
                                <div class="minus">-</div>
                                <input type="text" value="1">
                                <div class="plus">+</div>
                            </div>
                            &nbsp;(已使用10)
                            <div class="tips">剩余库存10</div>
                        </td>
                        <td>¥10000<div class="sdelete"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="subtype fun">
                <div class="sub-title">
                    娱乐信息
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加娱乐项目
                    </div>
                </div>
                <table>
                    <tr>
                        <td><div class="sname">皮划艇皮划艇皮划艇皮划艇皮划艇</div></td>
                        <td><span class="light">时间</span>&nbsp;04-25</td>
                        <td><span class="light">数量</span>&nbsp;
                            <div class="snumber">
                                <div class="minus">-</div>
                                <input type="text" value="1">
                                <div class="plus">+</div>
                            </div>
                            &nbsp;(已使用10)
                            <div class="tips">剩余库存10</div>
                        </td>
                        <td>¥10<div class="sdelete"></div></td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="discount">
                <div class="slabel">优惠</div>
                <input type="text" placeholder="金额">
                <span class="tips">-¥</span>
            </div>
            <div class="remark">
                <div class="slabel">备注</div>
                <textarea placeholder="请填写备注信息"></textarea>
            </div>
            <div class="counter">45/140</div>
            <div class="accounts">
                <div class="sgive">
                    <div class="slabel">客户需补</div>
                    <div class="snum">¥9999</div>
                </div>
                <div class="deposit">
                    <div class="slabel">已收押金</div>
                    <div class="snum">¥99</div>
                </div>
                <div class="sbtn confirm">保存</div>
                <div class="sbtn cancel">取消</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="payWithAlipayModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="erweima">
                <div class="eluyun_paywithalipay_outer spriteImg">
                    <div class="eluyun_paywithalipay"></div>
                </div>
                <input type="text" placeholder="付款码使用条码枪录入，也可手动录入。">
            </div>
            <div class="infos">
                <div class="item">应收金额：￥19999</div>
                <div class="item">订单编号：12399932199998876700</div>
                <div class="item">收银员：001</div>
            </div>
            <div class="sbtn">确认收款</div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="keepOrNotModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stitle">
                要保留未使用项目吗
            </div>
            <div class="stext">
                有项目未使用~如果客人不再使用项目，请先去编辑订单将项目删除。
            </div>
            <div class="btns">
                <div class="sbtn cancel">不保留,去删除</div>
                <div class="sbtn confirm">保留</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="arrearsModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="stitle">
                款项未结清
            </div>
            <div class="scontent">
                <div class="srow sgive">
                    <div class="slabel">客户需补订单：</div>
                    <div class="snum">￥5000</div>
                </div>
                <div class="srow srefund">
                    <div class="slabel">需退押金：</div>
                    <div class="snum">￥100</div>
                </div>
            </div>
            <div class="btns">
                <div class="sbtn confirm">没关系,继续</div>
                <div class="sbtn cancel">返回编辑收银</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="checkoutModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>办理退房</span>
                    <div class="status book"><div class="triangle"></div>已预订</div>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td>胡晚期</td>
                        <td>手机号</td>
                        <td>13111111111</td>
                    </tr>
                    <tr>
                        <td>身份证</td>
                        <td>440183199209080056</td>
                        <td>渠道</td>
                        <td>散客</td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="consume-info">
                <div class="subtype room">
                    <div class="sub-title">房间信息</div>
                    <table>
                        <tr>
                            <td><div class="scheckbox"><div class="inner"></div></div><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                        <tr class="disabled">
                            <td><div class="scheckbox"><div class="inner"></div></div><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype food">
                    <div class="sub-title">
                        餐饮信息
                        <div class="sadd">
                            <div class="eluyun_new_outer spriteImg">
                                <div class="eluyun_new"></div>
                            </div>
                            添加餐饮项目
                        </div>
                    </div>
                    <table>
                        <tr>
                            <td><div class="sname">烧烤烧烤烧烤烧烤烧烤烧烤烧烤烧烤</div></td>
                            <td><span class="light">时间</span>&nbsp;04-25</td>
                            <td>数量&nbsp;
                                <div class="snumber">
                                    <div class="minus">-</div>
                                    <input type="text" value="1">
                                    <div class="plus">+</div>
                                </div>
                                &nbsp;(已使用10)
                                <div class="tips">剩余库存10</div>
                            </td>
                            <td>¥10000<div class="sdelete"></div></td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype fun">
                    <div class="sub-title">
                        娱乐信息
                        <div class="sadd">
                            <div class="eluyun_new_outer spriteImg">
                                <div class="eluyun_new"></div>
                            </div>
                            添加娱乐项目
                        </div>
                    </div>
                    <table>
                        <tr>
                            <td><div class="sname">皮划艇皮划艇皮划艇皮划艇皮划艇</div></td>
                            <td><span class="light">时间</span>&nbsp;04-25</td>
                            <td><span class="light">数量</span>&nbsp;
                                <div class="snumber">
                                    <div class="minus">-</div>
                                    <input type="text" value="1">
                                    <div class="plus">+</div>
                                </div>
                                &nbsp;(已使用10)
                                <div class="tips">剩余库存10</div>
                            </td>
                            <td>¥10<div class="sdelete"></div></td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>

            </div>
            <div class="inadvanced">
                <div class="pull-left">
                    未入住部分房价：￥299
                </div>
                <div class="pull-right">
                    提前退房违约金
                    <span>¥</span>
                    <input type="text" placeholder="金额">
                </div>
            </div>
            <div class="remark">
                <div class="slabel">备注</div>
                <textarea placeholder="请填写备注信息"></textarea>
            </div>
            <div class="accounts">
                <div class="sgive">
                    <div class="slabel">客户需补</div>
                    <div class="snum">¥9999</div>
                </div>
                <div class="deposit">
                    <div class="slabel">已收押金</div>
                    <div class="snum">¥99</div>
                </div>
                <div class="sbtn confirm">确定退房</div>
                <div class="sbtn cancel">取消</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" role="dialog" id="getMoneyModal">
    <div class="modal-dialog">
        <div class="modal-content" >
            <div class="hr"></div>
            <div class="sheader">
                <div class="stitle">
                    <span>收银</span>
                </div>
            </div>
            <div class="hr2"></div>
            <div class="guest-info">
                <div class="sub-title">客户信息</div>
                <table>
                    <tr>
                        <td>姓名</td>
                        <td>吴丹青</td>
                        <td>手机号</td>
                        <td>18768114210</td>
                    </tr>
                    <tr>
                        <td>身份证</td>
                        <td>440183199209080056</td>
                        <td>渠道</td>
                        <td>散客</td>
                    </tr>
                </table>
            </div>
            <div class="hr2"></div>
            <div class="consume-info">
                <div class="sub-title consume-switch">消费信息
                    <div class="eluyun_arrow-down-blue_outer spriteImg">
                        <div class="eluyun_arrow-down-blue"></div>
                    </div>
                </div>
                <div class="subtype room">
                    <div class="sub-title">房间信息</div>
                    <table>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td><span>0102</span>&nbsp;(星空迷你木屋)<div class="sstatus book">预</div></td>
                            <td>
                                <span class="light">入住</span>
                                &nbsp;04-25&nbsp;~&nbsp;04-26&nbsp;
                                <span class="light">共7晚</span>
                            </td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype food">
                    <div class="sub-title">餐饮信息</div>
                    <table>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                        <tr>
                            <td>烧烤</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
                <div class="subtype fun">
                    <div class="sub-title">娱乐信息</div>
                    <table>
                        <tr>
                            <td>皮划艇</td>
                            <td><span class="light">时间</span>&nbsp;0425</td>
                            <td><span class="light">数量</span>&nbsp;24 &nbsp;(剩余10)</td>
                            <td>¥10000</td>
                        </tr>
                    </table>
                </div>
                <div class="hr2"></div>
            </div>
            <div class="infos">
                <div class="item">
                    <div class="sbold">商家需退:</div>
                    <div class="num">¥100000</div>
                    <div class="desc">
                        <div class="eluyun_tips_outer spriteImg">
                            <div class="eluyun_tips"></div>
                        </div>
                        <div class="desc-box">
                            <div class="subt">订单总结：</div>
                            <div class="sitem">
                                <div class="sl">订单总价</div>
                                <div class="sval">¥10000</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="sitem">
                                <div class="sl">优惠：</div>
                                <div class="sval">- ¥100</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="sitem">
                                <div class="sl">客户应付：</div>
                                <div class="sval">¥10000</div>
                                <div class="clearline"></div>
                            </div>
                            <div class="hr3"></div>
                            <div class="subt">订单收支明细</div>
                            <div class="sitem">
                                <div class="sl">客户已付（现金）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="sitem">
                                <div class="sl">客户已付（支付宝）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="hr3"></div>
                            <div class="subt">押金收支明细</div>
                            <div class="sitem">
                                <div class="sl">押金（现金）：</div>
                                <div class="sval1">¥10000</div>
                            </div>
                            <div class="hr3"></div>
                            <div class="sitem">
                                <div class="sl1">商家需退：</div>
                                <div class="sval2">¥100000</div>
                            </div>
                            <div class="sitem">
                                <div class="sl1">需退押金：</div>
                                <div class="sval2">¥100</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="sbold">需退押金:</div>
                    <div class="num">¥150</div>
                </div>
                <div class="item item_small refund">
                    <div class="slabel">订单收款</div>
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加订单退款
                    </div>
                </div>
                <div class="item item_big">
                    <input type="text">
                    <div class="select1">
                        <span></span>
                        <div class="select1_options">
                            <div class="item">散客</div>
                            <div class="item">旅行社</div>
                        </div>
                    </div>
                </div>
                <div class="item item_small">
                    <div class="slabel">押金收款</div>
                    <div class="sadd">
                        <div class="eluyun_new_outer spriteImg">
                            <div class="eluyun_new"></div>
                        </div>
                        添加押金收款
                    </div>
                </div>
                <div class="item item_big">
                    <input type="text">
                    <div class="select1">
                        <span></span>
                        <div class="select1_options">
                            <div class="item">散客</div>
                            <div class="item">旅行社</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="remarks">
                <div class="slabel">备注:</div>
                <div class="stext">
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                    备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注备注
                </div>
            </div>
            <div class="sbottom">
                <div class="sbtn1">确认收银</div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="accommodation-mainContainer">
    <div class="search">
        <div class="eluyun_search_outer spriteImg search-btn">
            <div class="eluyun_search"></div>
        </div>
        <input class="keyword" type="text" placeholder="搜索客户姓名/手机号/订单号" ng-model="searchKeyword">
        <div class="results">
            <div class="tips">共有{{filteredGlyphs().length}}条搜索结果</div>
            <div class="hr"></div>
            <div ng-repeat="g in filteredGlyphs()"
                 ng-if="$index >= searchResultPage*searchResultUnit && $index < (searchResultPage+1)*searchResultUnit">
                <div class="item" orderId="{{g.orderId}}">
                    <div class="srow">
                        <div class="slabel">开始于:</div>
                        <div class="desc">{{g.checkInDate}}</div>
                    </div>
                    <div class="srow">
                        <div class="slabel">客户:</div>
                        <div class="desc">{{g.customerName}}({{g.phone}})</div>
                    </div>
                    <div class="srow">
                        <div class="slabel">订单号:</div>
                        <div class="desc">{{g.serialNum}}</div>
                    </div>
                    <div class="status {{statusStr[g.orderState].classStr}}"><div class="triangle"></div>{{statusStr[g.orderState].long}}</div>
                </div>
                <div class="hr"></div>
            </div>
            <div class="btns" ng-if="filteredGlyphs().length > 0">
                <div class="sbtn previous" ng-click="searchResultPreviousPage()">
                    <div class="eluyun_arrow-left-border_outer spriteImg">
                        <div class="eluyun_arrow-left-border"></div>
                    </div>
                </div>
                <div class="sbtn next" ng-click="searchResultNextPage()">
                    <div class="eluyun_arrow-right-border_outer spriteImg">
                        <div class="eluyun_arrow-right-border"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content">
        <div class="date-selector">
            <div class="date-selector-switch">
                {{startDateStr}}
                <div class="eluyun_calendar_outer spriteImg">
                    <div class="eluyun_calendar"></div>
                </div>
            </div>
            <div class="date-table">
                <div class="tips">选择起始日期，将会显示未来30天的房态</div>
                <div class="month-selector">
                    <div class="eluyun_arrow-left-blue_outer spriteImg previous" ng-click="lastMonth();$event.stopPropagation();">
                        <div class="eluyun_arrow-left-blue"></div>
                    </div>
                    {{startDate.getFullYear()}}年{{startDate.getMonth()+1}}月
                    <div class="eluyun_arrow-right-blue_outer spriteImg next" ng-click="nextMonth();$event.stopPropagation();">
                        <div class="eluyun_arrow-right-blue"></div>
                    </div>
                </div>
                <div class="week-header">
                    <div class="item">一</div>
                    <div class="item">二</div>
                    <div class="item">三</div>
                    <div class="item">四</div>
                    <div class="item">五</div>
                    <div class="item">六</div>
                    <div class="item">日</div>
                </div>
                <div class="date-row" ng-repeat="row in calenderDays">
                    <div class="item {{day.sclass}}" ng-repeat="day in row" ng-click="selectDate(day.date);$event.stopPropagation();">
                        {{day.text || day.date.getDate()}}
                    </div>
                </div>
            </div>
        </div>
        <div class="category-filter">
            <div class="category-filter-switch">
                筛选房型
                <div class="eluyun_arrow-down-grey_outer spriteImg next">
                    <div class="eluyun_arrow-down-grey"></div>
                </div>
            </div>
            <div class="category-filter-menu">
                <div class="options">
                    <div class="item category-filter-all selected" ng-click="selectAllPRoom();$event.stopPropagation();">
                        <div class="notCheck" ng-if="!allPRoom"></div>
                        <div class="yesCheck" ng-if="allPRoom"></div>
                        全选
                    </div>
                    <div class="item category-filter-single selected"
                         ng-click="changePRoomSelect(pRoom.id);$event.stopPropagation();" ng-repeat="pRoom in pRoomList">
                        <div class="notCheck" ng-if="!pRoom.selected"></div>
                        <div class="yesCheck" ng-if="pRoom.selected"></div>
                        {{pRoom.name}}
                    </div>
                </div>
                <hr>
                <div class="sbtn">确定</div>
            </div>
        </div>
        <div class="leftHeader">
            <div class="category-item" ng-repeat="c in cRoomStore" ng-if="pRoomList[c.pId].selected">
                <div class="category-name">
                    <span class="stext">{{c.name}}</span>
                </div>
                <div class="category-list">
                    <div class="room-item" room="{{r.id}}" ng-repeat="r in c.rooms">{{r.sn}}</div>
                </div>
            </div>
        </div>
        <div class="sheader">
            <div class="sheader-item" ng-repeat="d in datesArray">
                <div class="date-item"
                     ng-class="{'today':d.dateStr == today, 'weekend': d.weekday == '周五' || d.weekday == '周六'}"
                     date="{{d.dateStr}}">
                    <div class="date">{{d.dateStr == today ? '今天' : d.dateStr}}</div>
                    <div class="desc">{{d.weekday}}</div>
                </div>
                <div class="left">剩{{d.left}}</div>
            </div>
        </div>
        <div class="calendor-container">
            <div class="entryList">
                <div class="srow" ng-repeat="r in roomStore" ng-if="pRoomList[r.pi].selected">
                    <div class="entryItem"
                         ng-class="{'selected': selectedEntries[r.id + day.date]}" ng-repeat="day in r.st">
                        <div class="inner" ng-if="!occupyList[day.date + r.id] && day.s !== 100" ng-click="addRoom(day.date, r.id);">
                            <img src="http://7xsrk6.com2.z0.glb.qiniucdn.com/EFE699E7-4888-4F50-B17F-B9FAF5A19B8B@1x.png" alt="selected">
                            <div class="date">{{day.date}}</div>
                            <div class="price">￥{{day.p}}</div>
                            <div class="name">{{r.sn}}（房型名称)</div>
                        </div>
                        <div class="closeTips" ng-if="day.s === 100">
                            已关闭
                        </div>
                        <div class="entryOp" ng-click="closeRoom(day.s === 100, r.id, day);">
                            {{day.s === 100 ? '打开房间' : '关闭房间'}}
                        </div>
                    </div>
                </div>
                <div class="glyph {{statusStr[g.orderState].classStr}}"
                     ng-repeat="g in glyphs" ng-class="{seeStart: g.seeStart}"
                     ng-if="pRoomList[cRoomStore[g.id].pId].selected"
                     style="left: {{g.left}}px;width: {{g.width}}px;top: {{g.top}}px;">
                    <div class="username">{{g.customerName}}</div>
                    <div class="where">
                        <div class="stext">{{g.channelName}}</div>
                        <img class="status"
                             src="http://7xsrk6.com2.z0.glb.qiniucdn.com/6F62DF58-FC40-4DF1-86F7-F7235C7B2123@1x.png" alt="">
                    </div>
                    <div class="infos ing up">
                        <div class="arrow-up"></div>
                        <div class="arrow-down"></div>
                        <div class="susername">{{g.customerName}}（{{g.phone}})</div>
                        <div class="sstatus {{g.classStr}}">{{g.stateStr}}</div>
                        <div class="booktime">
                            <div class="start"><span>{{g.checkInDateShort}}</span>入住</div>
                            <div class="end"><span>{{g.checkOutDateShort}}</span>离店</div>
                            <div class="stotal">共<span>{{g.days}}</span>晚</div>
                            <div class="from">{{g.channelName}}</div>
                        </div>
                        <div class="bhr"></div>
                        <div class="bprice">
                            <div class="stotal"><span class="slabel">订单总价：</span><span class="num">¥ {{g.amountPay}}</span></div>
                            <div class="sleft" ng-if="g.needPay < 0"><span class="slabel">客户需补：</span><span class="num">¥ {{-g.needPay}}</span></div>
                            <div class="sgive" ng-if="g.needPay > 0"><span class="slabel">商家需退：</span><span class="num">¥ {{g.needPay}}</span></div>
                        </div>
                        <div class="remarks"><span>备注：</span>{{g.remark || '无备注'}}</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="shopcart" ng-show="shopcartShow">
            <div class="already">已选择<span>{{selectedRooms.length}}</span>个房间</div>
            <div class="roomList">
                <div class="item" ng-repeat="r in selectedRooms">{{r}}</div>
            </div>
            <div class="btns">
                <div class="sbtn addition" ng-show="finishShow" ng-click="checkBeforeAdd('finish')">补录</div>
                <div class="sbtn book" ng-show="bookShow" ng-click="checkBeforeAdd('book')">预订</div>
                <div class="sbtn buy" ng-show="ingShow" ng-click="checkBeforeAdd('ing');">直接入住</div>
            </div>
        </div>
    </div>
</div>
</body>
</html>