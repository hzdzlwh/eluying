{"version":3,"sources":["webpack:///./static/js/app/src/login/login.js","webpack:///./static/js/app/src/login/login.validate.js"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,kCAAkC;AAChF,sBAAqB;AACrB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,2FAA0F;AAC1F,0BAAyB;AACzB;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,wCAAuC;AACvC;AACA;AACA;AACA,uEAAsE,UAAU;AAChF,sFAAqF;AACrF,sBAAqB;AACrB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB;AACA,cAAa;AACb;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL,EAAC;;AAED;AACA,qDAAoD;AACpD;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF,iEAAiE,+CAA+C,6CAA6C;AAC7O;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;;;AC/nBA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B,KAAK;AACjC;AACA;;AAEA;AACA,mDAAkD,KAAK;AACvD,6BAA4B,KAAK;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iFAAgF,EAAE;AAClF;AACA;;AAEA;AACA,oBAAmB,EAAE;AACrB;AACA;;AAEA;AACA,iCAAgC,GAAG;AACnC;AACA;;AAEA;AACA,iCAAgC,GAAG;AACnC;AACA;;AAEA;AACA,iCAAgC,GAAG;AACnC;AACA;;AAEA;AACA,6BAA4B,GAAG;AAC/B;AACA;;AAEA,2B","file":"login/login.js","sourcesContent":["/**\n * Created by huwanqi on 15/12/14.\n */\nvar modal = require('modal');\nvar util = require('util');\nvar loginValidate = require('loginValidate');\nvar AJAXService = require('AJAXService');\nvar baseUrl = AJAXService.urls.host;\n\nvar resposiveWindow = function(){\n    $(\"html\").css({\n        \"font-size\": parseFloat($(window).width()) / 1920 * 20 + 'px'\n    });\n    $(window).on(\"resize\", function(){\n        $(\"html\").css({\n            \"font-size\": parseFloat($(window).width()) / 1920 * 20 + 'px'\n        });\n    })\n};\n\n/*\n 验证码按钮倒计时用。\n */\nvar wait=60;\nfunction time(o) {\n    if (wait == 0) {\n        $(o).removeAttr('disabled');\n        $(o).html(\"获取验证码\");\n        wait = 60;\n        if($(o).parents(\".modal\").attr(\"id\") == 'loginRegister'){\n            $(o).on(\"click\", registerVCOnClick);\n        }else{\n            $(o).on(\"click\", forgetVCOnClick);\n        }\n    } else {\n        $(o).attr('disabled', \"disabled\");\n        $(o).html(\"重新发送(\" + wait + \")\");\n        wait--;\n        setTimeout(function() {\n            time(o);\n        }, 1000);\n    }\n}\n\nfunction forgetVCOnClick(){\n    var phone = $(\"#loginForgetPwd .phone\").val();\n    var result = loginValidate.phoneValidate(phone);\n    if(result == true){\n        $(\"#loginForgetPwd .errorTips\").hide();\n        $(this).unbind(\"click\");\n        $.ajax({\n            type: \"GET\",\n            url: baseUrl + '/user/sendVerifyCode',\n            data: {\n                phone: phone,\n                origin: 1\n            },\n            success: function(data){\n                console.log(data);\n            },\n            error: function(data){\n                console.log(data);\n            }\n        });\n        time(this);\n    }else{\n        $(\"#loginForgetPwd .errorTips\").html(result);\n        $(\"#loginForgetPwd .errorTips\").show();\n    }\n}\n\nfunction registerVCOnClick(){\n    var phone = $(\"#loginRegister .phone\").val();\n    var result = loginValidate.phoneValidate(phone);\n    if(result == true){\n        $(\"#loginRegister .errorTips\").hide();\n        $(this).unbind(\"click\");\n        $.ajax({\n            type: \"GET\",\n            url: baseUrl + '/user/sendVerifyCode',\n            data: {\n                phone: phone\n            },\n            success: function(data){\n                console.log(data);\n                if(data.code == 9){\n                    $(\"#loginRegister .errorTips\").html(data.msg);\n                    $(\"#loginRegister .errorTips\").show();\n                    wait = 0;\n                }\n            },\n            error: function(data){\n                console.log(data);\n            }\n        });\n        time(this);\n    }else{\n        $(\"#loginRegister .errorTips\").html(result);\n        $(\"#loginRegister .errorTips\").show();\n    }\n}\n\n$(document).ready(function(){\n    util.centroidDiv(\"#loginBox .bg\", '#loginBox');\n    util.centroidDiv(\".loginPic img\", '.loginPic');\n    $(window).on(\"resize\", function(){\n        util.centroidDiv(\"#loginBox .bg\", '#loginBox');\n        util.centroidDiv(\".loginPic img\", '.loginPic');\n    });\n\n    if (isPostBack == \"False\") {\n        GetLastUser();\n    }\n\n    $(\".modal\").modal({\n        show: false\n    });\n    //function centerModals(){\n    //    $('.modal').each(function(){\n    //        var $clone = $(this).clone().css('display', 'block').appendTo('body');\n    //        var top = Math.round(($clone.height() - $clone.find('.modal-content').height()) / 2) - 52;\n    //        top = top > 0 ? top : 0;\n    //        $clone.remove();\n    //        $(this).find('.modal-content').css(\"margin-top\", top);\n    //    });\n    //}\n    //$('.modal').on('show.bs.modal', centerModals);\n    //$(window).on('resize', centerModals);\n    //$(\".btn-cancel\").click(function(){\n    //    $(this).parents(\".modal\").modal(\"hide\");\n    //});\n    //modal.modalInit();\n\n    $(\"#loginName\").on(\"blur\", GetPwdAndChk);\n    //$(\"#loginSave\").on(\"click\", SetPwdAndChk);\n\n    /*\n     申请注册码和我有注册码切换\n     */\n    $(\"body\").on(\"click\", \"#loginRegister .regCode .navs .item\", function(){\n        $(\"#loginRegister .regCode .navs .item\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        var data = $(this).attr(\"data\");\n        if(data == 'use'){\n            $(\"#loginRegister .apply\").hide();\n            $(\"#loginRegister .use\").show();\n            $(\"#loginRegister .regCode\").height(183);\n            $(\"#loginRegister .confirm\").html('注册');\n        }else{\n            $(\"#loginRegister .apply\").show();\n            $(\"#loginRegister .use\").hide();\n            $(\"#loginRegister .regCode\").height(243);\n            $(\"#loginRegister .confirm\").html('申请');\n        }\n    });\n\n    /*\n     忘记密码点击发送验证码\n     */\n    $(\"#loginForgetPwd .get_code\").on(\"click\", forgetVCOnClick);\n\n    /*\n     忘记密码点击确认\n     */\n    $(\"#loginForgetPwd .confirm\").on(\"click\", function(){\n        var phone = $(\"#loginForgetPwd .phone\").val();\n        var verifyCode = $(\"#loginForgetPwd .verifyCode\").val();\n        var pwd = $(\"#loginForgetPwd .pwd\").val();\n        var pwdConfirm = $(\"#loginForgetPwd .pwdConfirm\").val();\n        var result = loginValidate.phoneValidate(phone);\n        if(result == true) {\n            result = loginValidate.verifyCodeValidate(verifyCode);\n        }\n        if(result == true) {\n            result = loginValidate.passwordValidate(pwd);\n        }\n        if(result == true) {\n            result = loginValidate.passwordConfirmValidate(pwd, pwdConfirm);\n        }\n        if(result === true){\n            $.ajax({\n                type: 'GET',\n                url: baseUrl + '/user/resetPassword',\n                data: {\n                    password: pwd,\n                    phone: phone,\n                    verifyCode: verifyCode\n                },\n                success: function(data){\n                    console.log(data);\n                    if(data.code == 1){\n                        $(\"#loginForgetPwd .errorTips\").hide();\n                        $(\"#loginForgetPwd\").modal('hide');\n                        $(\"#resetSuccess\").modal('show');\n                        setTimeout(function(){$(\"#resetSuccess\").modal('hide');}, 1000);\n                    }else{\n                        $(\"#loginForgetPwd .errorTips\").html(data.msg);\n                        $(\"#loginForgetPwd .errorTips\").show();\n                    }\n                },\n                error: function(data){\n                    console.log(data);\n                }\n            });\n        }else{\n            $(\"#loginForgetPwd .errorTips\").html(result);\n            $(\"#loginForgetPwd .errorTips\").show();\n        }\n    });\n\n    /*\n     注册点击发送验证码\n     */\n    $(\"#loginRegister .get_code\").on(\"click\", registerVCOnClick);\n\n    /*\n     申请注册码或者注册\n     */\n    $(\"#loginRegister .confirm\").on(\"click\", function(){\n        var phone = $(\"#loginRegister .phone\").val();\n        var verifyCode = $(\"#loginRegister .verifyCode\").val();\n        var loginName = $(\"#loginRegister .loginName\").val();\n        var pwd = $(\"#loginRegister .pwd\").val();\n        var pwdConfirm = $(\"#loginRegister .pwdConfirm\").val();\n        var name, campName, campAddress, registrationCode;\n        var result = loginValidate.phoneValidate(phone);\n        if(result == true){\n            result = loginValidate.verifyCodeValidate(verifyCode);\n        }\n        if(result == true){\n            result = loginValidate.loginNameValidate(loginName);\n        }\n        if(result == true){\n            result = loginValidate.passwordValidate(pwd);\n        }\n        if(result == true){\n            result = loginValidate.passwordConfirmValidate(pwd, pwdConfirm);\n        }\n        var state = $(this).html();\n        if(state == '申请'){\n            name = $(\"#loginRegister .name\").val();\n            campName = $(\"#loginRegister .campName\").val();\n            campAddress = $(\"#loginRegister .address\").val();\n            registrationCode = null;\n            if(result == true){\n                result = loginValidate.nameValidate(name);\n            }\n            if(result == true){\n                result = loginValidate.campNameValidate(campName);\n            }\n            if(result == true){\n                result = loginValidate.campAddressValidate(campAddress);\n            }\n        }else if(state == '注册'){\n            name = $(\"#loginRegister .name2\").val();\n            campName = null;\n            campAddress = null;\n            registrationCode = $(\"#loginRegister .registrationCode\").val();\n            if(result == true){\n                result = loginValidate.nameValidate(name);\n            }\n            if(result == true){\n                result = loginValidate.registrationCodeValidate(registrationCode);\n            }\n        }\n        if(result == true){\n            $.ajax({\n                type: 'GET',\n                url: baseUrl + '/user/register',\n                data: {\n                    campAddress: campAddress,\n                    campName: campName,\n                    name: name,\n                    password: pwd,\n                    phone: phone,\n                    registrationCode: registrationCode,\n                    userName: loginName,\n                    verifyCode: verifyCode\n                },\n                success: function(data){\n                    if(data.code == 1){\n                        if(state == '注册'){\n                            $(\"#loginRegister\").modal('hide');\n                            $(\"#loginRegSuccess\").modal('show');\n                            setTimeout(\"window.location.href = '/view/category/room.html';\", 1000)\n                        }else{\n                            $(\"#loginRegister\").modal('hide');\n                            $(\"#loginApplySuccess\").modal('show');\n                        }\n                    }else{\n                        $(\"#loginRegister .errorTips\").html(data.msg);\n                        $(\"#loginRegister .errorTips\").show();\n                    }\n                },\n                error: function(data){\n                    console.log(data);\n                }\n            });\n            $(\"#loginRegister .errorTips\").hide();\n        }else{\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }\n    });\n\n    /*\n     登录按钮响应\n     */\n    $(\"#loginBox .log button\").on(\"click\", function(){\n        var loginName = $(\"#loginBox .log .loginName\").val();\n        var password = $(\"#loginBox .log .password\").val();\n        var result = loginValidate.loginNameValidate(loginName);\n        if(result == true) {\n            result = loginValidate.passwordValidate(password);\n        }\n        if(result === true){\n            $.ajax({\n                type: \"GET\",\n                url: baseUrl + '/user/login',\n                data: {\n                    loginName: loginName,\n                    password: password\n                },\n                success: function(data){\n                    if(data.code == 1){\n                        SetPwdAndChk(); //记住密码和账号\n                        $(\"#loginLogSuccess\").modal('show');\n                        localStorage.setItem(\"campName\", data.data.camps[0].name);\n                        localStorage.setItem(\"userName\", data.data.userName);\n                        $.cookie(\"jsessionid\", data.data.jsessionid, {path: \"/\"});\n                        setTimeout(\"window.location.href = 'view/category/room.html';\", 1000);\n                    }else{\n                        $(\"#loginBox .log .errorTips\").html(data.msg);\n                        $(\"#loginBox .log .errorTips\").show();\n                        $(\"#loginBox .log .text\").css(\"margin-top\", \"30px\");\n                    }\n                },\n                error: function(data){\n                    console.log(data);\n                }\n            });\n            $(\"#loginBox .log .errorTips\").hide();\n            $(\"#loginBox .log .text\").css(\"margin-top\", \"44px\");\n        }else{\n            $(\"#loginBox .log .errorTips\").html(result);\n            $(\"#loginBox .log .errorTips\").show();\n            $(\"#loginBox .log .text\").css(\"margin-top\", \"30px\");\n        }\n    });\n\n    /*\n     登录表单验证\n     */\n    $(\"#loginBox .log .loginName\").on(\"change\", function(){\n        var loginName = $(this).val();\n        var result = loginValidate.loginNameValidate(loginName);\n        if(result != true){\n            $(\"#loginBox .log .errorTips\").html(result);\n            $(\"#loginBox .log .errorTips\").show();\n            $(\"#loginBox .log .text\").css(\"margin-top\", \"30px\");\n        }else {\n            $(\"#loginBox .log .errorTips\").hide();\n        }\n    });\n    $(\"#loginBox .log .password\").on(\"change\", function(){\n        var password = $(this).val();\n        var result = loginValidate.passwordValidate(password);\n        if(result != true){\n            $(\"#loginBox .log .errorTips\").html(result);\n            $(\"#loginBox .log .errorTips\").show();\n            $(\"#loginBox .log .text\").css(\"margin-top\", \"30px\");\n        }else {\n            $(\"#loginBox .log .errorTips\").hide();\n        }\n    });\n\n    /*\n     忘记密码表单验证\n     */\n    $(\"#loginForgetPwd .phone\").on(\"change\", function(){\n        var phone = $(this).val();\n        var result = loginValidate.phoneValidate(phone);\n        if(result != true){\n            $(\"#loginForgetPwd .errorTips\").html(result);\n            $(\"#loginForgetPwd .errorTips\").show();\n        }else{\n            $(\"#loginForgetPwd .errorTips\").hide();\n        }\n    });\n    $(\"#loginForgetPwd .verifyCode\").on(\"change\", function(){\n        var verifyCode = $(this).val();\n        var result = loginValidate.verifyCodeValidate(verifyCode);\n        if(result != true){\n            $(\"#loginForgetPwd .errorTips\").html(result);\n            $(\"#loginForgetPwd .errorTips\").show();\n        }else{\n            $(\"#loginForgetPwd .errorTips\").hide();\n        }\n    });\n    $(\"#loginForgetPwd .pwd\").on(\"change\", function(){\n        var pwd = $(this).val();\n        var result = loginValidate.passwordValidate(pwd);\n        if(result != true){\n            $(\"#loginForgetPwd .errorTips\").html(result);\n            $(\"#loginForgetPwd .errorTips\").show();\n        }else{\n            $(\"#loginForgetPwd .errorTips\").hide();\n        }\n    });\n    $(\"#loginForgetPwd .pwdConfirm\").on(\"change\", function(){\n        var pwd = $(\"#loginForgetPwd .pwd\").val();\n        var pwdConfirm = $(this).val();\n        var result = loginValidate.passwordValidate(pwd);\n        if(result != true){\n            $(\"#loginForgetPwd .errorTips\").html(result);\n            $(\"#loginForgetPwd .errorTips\").show();\n        }else{\n            result = loginValidate.passwordConfirmValidate(pwd, pwdConfirm);\n            if(result != true){\n                $(\"#loginForgetPwd .errorTips\").html(result);\n                $(\"#loginForgetPwd .errorTips\").show();\n            }else{\n                $(\"#loginForgetPwd .errorTips\").hide();\n            }\n        }\n    });\n\n    /*\n     注册表单验证\n     */\n    $(\"#loginRegister .phone\").on(\"change\", function(){\n        var phone = $(this).val();\n        var result = loginValidate.phoneValidate(phone);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .verifyCode\").on(\"change\", function(){\n        var verifyCode = $(this).val();\n        var result = loginValidate.verifyCodeValidate(verifyCode);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .loginName\").on(\"change\", function(){\n        var loginName = $(this).val();\n        var result = loginValidate.loginNameValidate(loginName);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n            //验证用户名是否存在\n            $.ajax({\n                type: 'GET',\n                url: baseUrl + '/user/verifyUserName',\n                data: {\n                    userName: loginName\n                },\n                success: function(data){\n                    if(data.data.exist){\n                        $(\"#loginRegister .errorTips\").html('用户名已存在');\n                        $(\"#loginRegister .errorTips\").show();\n                    }else{\n                        $(\"#loginRegister .errorTips\").hide();\n                    }\n                },\n                error: function(data){}\n            });\n        }\n    });\n    $(\"#loginRegister .pwd\").on(\"change\", function(){\n        var pwd = $(this).val();\n        var result = loginValidate.passwordValidate(pwd);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .pwdConfirm\").on(\"change\", function(){\n        var pwd = $(\"#loginRegister .pwd\").val();\n        var pwdConfirm = $(this).val();\n        var result = loginValidate.passwordValidate(pwd);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            result = loginValidate.passwordConfirmValidate(pwd, pwdConfirm);\n            if(result != true){\n                $(\"#loginRegister .errorTips\").html(result);\n                $(\"#loginRegister .errorTips\").show();\n            }else{\n                $(\"#loginRegister .errorTips\").hide();\n            }\n        }\n    });\n    $(\"#loginRegister .name, #loginRegister .name2\").on(\"change\", function(){\n        var name = $(this).val();\n        var result = loginValidate.nameValidate(name);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .campName\").on(\"change\", function(){\n        var campName = $(this).val();\n        var result = loginValidate.campNameValidate(campName);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .address\").on(\"change\", function(){\n        var address = $(this).val();\n        var result = loginValidate.campAddressValidate(address);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n    $(\"#loginRegister .registrationCode\").on(\"change\", function(){\n        var registrationCode = $(this).val();\n        var result = loginValidate.registrationCodeValidate(registrationCode);\n        if(result != true){\n            $(\"#loginRegister .errorTips\").html(result);\n            $(\"#loginRegister .errorTips\").show();\n        }else{\n            $(\"#loginRegister .errorTips\").hide();\n        }\n    });\n});\n\nfunction GetLastUser() {\n    var id = \"49BAC005-7D5B-4231-8CEA-16939BEACD67\";//GUID标识符\n    var usr = GetCookie(id);\n    if (usr != null) {\n        $(\"#loginBox .loginName\").val(usr);\n    } else {\n        $(\"#loginBox .loginName\").val('');\n    }\n    GetPwdAndChk();\n}\n//点击登录时触发客户端事件\n\nfunction SetPwdAndChk() {\n    //取用户名\n    var usr = $(\"#loginBox .loginName\").val();;\n    //将最后一个用户信息写入到Cookie\n    SetLastUser(usr);\n    //如果记住密码选项被选中\n    if (document.getElementById('loginSave').checked == true) {\n        //取密码值\n        var pwd = $(\"#loginBox .password\").val();\n        var expdate = new Date();\n        expdate.setTime(expdate.getTime() + 14 * (24 * 60 * 60 * 1000));\n        //将用户名和密码写入到Cookie\n        SetCookie(usr, pwd, expdate);\n    } else {\n        //如果没有选中记住密码,则立即过期\n        ResetCookie();\n    }\n}\n\n/*\n 记住密码功能用\n */\nfunction SetLastUser(usr) {\n    var id = \"49BAC005-7D5B-4231-8CEA-16939BEACD67\";\n    var expdate = new Date();\n    //当前时间加上两周的时间\n    expdate.setTime(expdate.getTime() + 14 * (24 * 60 * 60 * 1000));\n    SetCookie(id, usr, expdate);\n}\n//用户名失去焦点时调用该方法\n\nfunction GetPwdAndChk() {\n    var usr = $(\"#loginBox .loginName\").val();\n    var pwd = GetCookie(usr);\n    if (pwd != null) {\n        document.getElementById('loginSave').checked = true;\n        $(\"#loginBox .password\").val(pwd);\n    } else {\n        document.getElementById('loginSave').checked = false;\n        $(\"#loginBox .password\").val('');\n    }\n}\n//取Cookie的值\n\nfunction GetCookie(name) {\n    var arg = name + \"=\";\n    var alen = arg.length;\n    var clen = document.cookie.length;\n    var i = 0;\n    while (i < clen) {\n        var j = i + alen;\n        if (document.cookie.substring(i, j) == arg) return getCookieVal(j);\n        i = document.cookie.indexOf(\" \", i) + 1;\n        if (i == 0) break;\n    }\n    return null;\n}\nvar isPostBack = \"False\";\n\nfunction getCookieVal(offset) {\n    var endstr = document.cookie.indexOf(\";\", offset);\n    if (endstr == -1) endstr = document.cookie.length;\n    return unescape(document.cookie.substring(offset, endstr));\n}\n//写入到Cookie\n\nfunction SetCookie(name, value, expires) {\n    var argv = SetCookie.arguments;\n    //本例中length = 3\n    var argc = SetCookie.arguments.length;\n    var expires = (argc > 2) ? argv[2] : null;\n    var path = (argc > 3) ? argv[3] : null;\n    var domain = (argc > 4) ? argv[4] : null;\n    var secure = (argc > 5) ? argv[5] : false;\n    document.cookie = name + \"=\" + escape(value) + ((expires == null) ? \"\" : (\"; expires=\" + expires.toGMTString())) + ((path == null) ? \"\" : (\"; path=\" + path)) + ((domain == null) ? \"\" : (\"; domain=\" + domain)) + ((secure == true) ? \"; secure\" : \"\");\n}\n\nfunction ResetCookie() {\n    var usr = $(\"#loginBox .loginName\").val();;\n    var expdate = new Date();\n    SetCookie(usr, null, expdate);\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/js/app/src/login/login.js\n ** module id = 0\n ** module chunks = 6\n **/","/**\n * Created by huwanqi on 15/12/19.\n */\nvar validate = {};\n\nvalidate.loginNameValidate = function(str){\n    var reg = /^[a-zA-Z0-9]{6,15}$/;\n    return reg.test(str) || '账户名必须是6到15位的字母或者数字';\n};\n\nvalidate.passwordValidate = function(str){\n    //var reg = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/;\n    var reg = /^[a-zA-Z0-9]{6,15}$/;\n    return reg.test(str) || '密码必须是6到15位的数字或字母';\n};\n\nvalidate.passwordConfirmValidate = function(left, right){\n    return left === right || '两次输入的密码不一样';\n};\n\nvalidate.phoneValidate = function(str){\n    var reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/;\n    return reg.test(str) || '请填写大陆的11位手机号码';\n};\n\nvalidate.verifyCodeValidate = function(str){\n    var reg = /^\\d{4}$/;\n    return reg.test(str) || '请填写您收到的4位验证码';\n};\n\nvalidate.nameValidate = function(str){\n    var reg = /^[\\u4e00-\\u9fa5]{2,}$/;\n    return reg.test(str) || '请填写您的姓名';\n};\n\nvalidate.campNameValidate = function(str){\n    var reg = /^[\\u4e00-\\u9fa5]{0,}$/;\n    return reg.test(str) || '请填写您的营地名称';\n};\n\nvalidate.campAddressValidate = function(str){\n    var reg = /^[\\u4e00-\\u9fa5]{0,}$/;\n    return reg.test(str) || '请填写您的营地地址';\n};\n\nvalidate.registrationCodeValidate = function(str){\n    var reg = /^[a-zA-Z0-9]{0,}$/;\n    return reg.test(str) || '请填写您的营地注册码';\n};\n\nmodule.exports = validate;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./static/js/app/src/login/login.validate.js\n ** module id = 33\n ** module chunks = 6\n **/"],"sourceRoot":""}